{"version":3,"sources":["octocat.svg","constants.js","field_parsers.js","RMRow.js","TableExpander.js","TableWrapper.js","APITable.js","RMTable.js","api_helpers.js","display_helpers.js","Policy.js","PolRow.js","Policies.js","RMSearchBar.js","RMs.js","RMSearch.js","UserSearchBar.js","Users.js","PolCounts.js","User.js","about_txt.js","About.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","BASEURL","UNPARSEABLE_TITLE_PLACEHOLDER","RM_COLS","RM","date","outcome","mentions","vote","size","comments","DEFAULT_ROWS","OUTCOMES","moved","notmoved","nc","unknown","OUTCOME_PATTERNS","Comment","s","Object","classCallCheck","this","str","cleaned","toLowerCase","norm","replace","trim","Outcome","_Comment","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","get","normalized","_i","_Object$keys","keys","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","return","VOTES","support","oppose","weakSupport","weakOppose","strongSupport","strongOppose","comment","neutral","VOTE_PATTERNS","Vote","_Comment2","_i2","_Object$keys2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","RMRow","col","meat","extra_attrs","classes","dat","props","react_default","a","createElement","href","rm_link","from_title","to_title","n_articles","className","title","concat","close_date","split","fields","push","n_participants","n_mentions","role","n_comments","console","error","toLocaleString","assign","join","cells","headings","map","renderCol","bind","React","Component","TableExpander","type","onClick","onExpand","TableWrapper","headercells","label","i","children","expandable","src_TableExpander","APITableMixin","_this","call","sortKeys","apiSensitiveStateVars","state","rows","n","sortKey","defaultSortKey","checkboxes","cb","statevar","initialValue","apiInsensitive","assertThisInitialized","handleSortChange","setState","evt","target","updateRowFetch","prevProps","prevState","_this2","some","stateKey","changed","shouldRefetchRows","_this3","rows_api_call","then","renderSortControls","renderCheckboxes","_this4","boxes","id","checked","onChange","defineProperty","htmlFor","Fragment","_this5","radios","sk","_this6","trs","row","renderRow","renderControls","src_TableWrapper","renderTable","RMTable","base_headings","extra_headings","rm_record","rm_id","src_RMRow","build_url","base","querystring_params","qparams","fromEntries","entries","ent","k","v","qs","URLSearchParams","toString","api","endpoint","qargs","startsWith","url","window","location","origin","fetch","headers","Accept","resp","json","urlencode_user","user","user_link","render_pol_link","pol","react_router_dom","to","Policy","polname","dp","match","params","PolRow","expanded","pol_link","render_expansion","canon","Policies","collapse","src_PolRow","RMSearchBar","doSearch","preventDefault","q","document","getElementById","case","loc","history","defaultValue","query","case_sensitive","withRouter","RMs","sort","src_RMSearchBar","hd","RMSearch","search","esm_get","prototype","qStringParams","UserSearchBar","userquery","disp","Users","votes","noms","closes","all","src_UserSearchBar","PolCounts","limit","expand","lis","counts","b","count","resizer","cls","slice","UserRMsTable","username","extras","User","activity","polcounts","loaded","fetchStats","render_nouser","render_extant","act","src_PolCounts","User_UserRMsTable","about_txt","heading","content","Home","sections","q_and_a","renderSection","NavHeader","rel","alt","src","octocat","App","basename","constants","App_NavHeader","react_router","exact","path","component","About","Boolean","hostname","ReactDOM","render","src_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a282ff8b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/octocat.2203be16.svg\";","\nexport const PROD = process.env.NODE_ENV === 'production';\nexport const BASEURL = PROD ? '/rmstats' : '';\nexport const DEBUG = (!PROD) && true;\n\nexport const UNPARSEABLE_TITLE_PLACEHOLDER = '*UNK';\n\nexport const RM_COLS = {\n  RM: 'RM',\n  date: 'Date',\n  outcome: 'Outcome',\n  mentions: 'Mentions', // n mentions of a specific policy\n  vote: '!Vote',\n  size: 'Participants',\n  comments: 'Comments',\n};\n\nexport const DEFAULT_ROWS = 50;\nexport const DEFAULT_RM_ROWS = DEFAULT_ROWS;\n// How many rows to add when clicking \"show more\"\nexport const DEFAULT_ROWS_PLUS = 50;\nexport const RM_ROW_PLUS = 50;\n\nexport const GITHUB_SITE_URL = \"https://github.com/colinmorris/rm_stats\";\nexport const GITHUB_SCRAPER_URL = \"https://github.com/PLACEHOLDER\";\n","import { UNPARSEABLE_TITLE_PLACEHOLDER } from './constants';\n\n/* Return whether the given RM record has major parsing errors, such that we\n   probably shouldn't show it.\n*/\nexport function is_malparsed(rm_record) {\n  if (rm_record.from_title === UNPARSEABLE_TITLE_PLACEHOLDER\n      || rm_record.outcome === null\n     ) {\n    return true;\n  }\n  return false;\n}\n\nconst OUTCOMES = {\n  moved: 'yes',\n  notmoved: 'no',\n  nc: 'nc',\n  unknown: 'unk',\n};\n\nconst OUTCOME_PATTERNS = {\n  moved: ['moved', 'page moved', 'consensus to move', 'move', 'move all',\n    'moved as proposed', 'pages moved', 'done', 'moved as requested',\n    'moved all', 'moved per request',\n    ],\n  notmoved: ['not moved', \n    'consensus against', 'consensus not to move', 'consensus against move',\n    'withdrawn', 'withdrawn by nominator', 'withdrawn by nom',\n    'page not moved', 'no move',\n    ],\n  nc: ['no consensus', 'no consensus to move', 'no consensus at this time',\n    'no consensus for move',\n    ],\n};\n\nclass Comment {\n  constructor(s) {\n    this.str = s;\n    // XXX: Hmmm. I guess this means outcome isn't parseable. Should probably\n    // exclude this row then.\n    if (this.str === null) {\n      this.str = '';\n    }\n  }\n\n  get normalized() {\n    return this.cleaned.toLowerCase();\n  }\n\n  get cleaned() {\n    let norm = this.str;\n    // Replace wikilinks with their visible text.\n    norm = norm.replace(/\\[\\[([^|\\]]+?)\\]\\]/g, '$1')\n    // piped wikilinks\n    norm = norm.replace(/\\[\\[[^\\]|]*\\|([^\\]]*)\\]\\]/g, '$1')\n    norm = norm.replace(/^[']+/, '').replace(/['.;:]+$/, '');\n    norm = norm.trim();\n    return norm;\n  }\n}\n\nexport class Outcome extends Comment {\n  get outcome() {\n    let norm = this.normalized;\n    for (let key of Object.keys(OUTCOME_PATTERNS)) {\n      for (let patt of OUTCOME_PATTERNS[key]) {\n        if (norm === patt) {\n          return OUTCOMES[key];\n        }\n      }\n    }\n    return OUTCOMES.unknown;\n  }\n}\n\nconst VOTES = {\n  support: 'supp',\n  oppose: 'opp',\n  weakSupport: 'weak-supp',\n  weakOppose: 'weak-opp',\n  strongSupport: 'strong-supp',\n  strongOppose: 'strong-opp',\n  comment: 'comment',\n  neutral: 'neut',\n  unknown: 'unk',\n};\n\nconst VOTE_PATTERNS = {\n  support: ['support', 'support as proposed', 'support all',\n  ],\n  oppose: ['oppose', 'oppose all',\n  ],\n  weakSupport: ['weak support',\n  ],\n  weakOppose: ['weak oppose',\n  ],\n  strongSupport: ['strong support',\n  ],\n  strongOppose: ['strong oppose',\n  ],\n  comment: ['comment',\n  ],\n  neutral: ['neutral',\n  ],\n};\n\n\nexport class Vote extends Comment {\n  get vote() {\n    let norm = this.normalized;\n    for (let key of Object.keys(VOTE_PATTERNS)) {\n      for (let patt of VOTE_PATTERNS[key]) {\n        if (norm === patt) {\n          return VOTES[key];\n        }\n      }\n    }\n    return VOTES.unknown;\n  }\n}\n","import React from 'react';\n\nimport './Row.css';\n\nimport { RM_COLS, DEBUG } from './constants';\nimport * as fields from './field_parsers';\n\nconst RARROW = '→';\nclass RMRow extends React.Component {\n\n  get rm_link() {\n    return 'https://en.wikipedia.org/wiki/' + this.props.dat.rm_link;\n  }\n\n  renderCol(col) {\n    var meat, extra_attrs = {};\n    // zz hack\n    var classes = [col.replace('!', '')];\n    const dat = this.props.dat;\n    switch (col) {\n      case RM_COLS.RM:\n        meat = (<span>\n            <a href={this.rm_link}>\n            {dat.from_title} {RARROW} {dat.to_title || '?'}</a>\n            {dat.n_articles > 1 && \n              <small className=\"multimove-indicator\"\n                title={`This RM involved ${dat.n_articles} total renames`}>\n                +{dat.n_articles-1}\n              </small>\n            }\n            </span>\n            );\n        break;\n      case RM_COLS.date:\n        meat = dat.close_date.split(' ')[0];\n        break;\n      case RM_COLS.outcome:\n        const outcome = new fields.Outcome(dat.outcome);\n        meat = outcome.cleaned;\n        if (DEBUG) {\n          extra_attrs.title = dat.outcome;\n        }\n        classes.push('outcome-' + outcome.outcome);\n        break;\n      case RM_COLS.size:\n        //meat = `${dat.n_participants-1} participants, ${dat.n_comments} comments`;\n        meat = dat.n_participants-1;\n        break;\n      case RM_COLS.mentions:\n        meat = dat.n_mentions;\n        break;\n      case RM_COLS.vote:\n        classes.push('role-'+dat.role);\n        if (dat.role === 'nom') {\n          meat = 'Nominator';\n        } else if (dat.role === 'close') {\n          meat = 'Closer';\n        } else {\n          const vote = new fields.Vote(dat.vote);\n          meat = vote.cleaned;\n          classes.push('vote-' + vote.vote);\n          if (DEBUG) {\n            extra_attrs.title = dat.vote;\n          }\n        }\n        break;\n      case RM_COLS.comments:\n        meat = dat.n_comments;\n        break;\n      default:\n        console.error(\"Unrecognized RM table heading: \"+col);\n    }\n    if (typeof(meat) === 'number') {\n      meat = meat.toLocaleString();\n    }\n    return (<td key={col} className={classes.join(' ')}\n          {...extra_attrs}\n        >\n        {meat}\n        </td>);\n  }\n\n  render() {\n    var cells = this.props.headings.map(this.renderCol.bind(this));\n    return <tr>{cells}</tr>;\n  }\n\n}\nexport default RMRow;\n","import React from 'react';\n\nclass TableExpander extends React.Component {\n\n  render() {\n    return (\n        <button type=\"button\" className=\"btn btn-primary btn-lg expander\"\n          onClick={this.props.onExpand}\n        >\n          Show More\n        </button>\n        );\n  }\n}\n\nexport default TableExpander;\n","import React from 'react';\n\nimport TableExpander from './TableExpander';\n\nclass TableWrapper extends React.Component {\n  \n  render() {\n    const headercells = this.props.headings.map( (label, i) => \n        <th className={label.replace('!', '')} key={label}>{label}</th>\n    );\n    return (\n    <div className=\"table-container\">\n      <table className=\"wikitable\">\n        <thead><tr>{headercells}</tr></thead>\n        <tbody>\n          {this.props.children}\n        </tbody>\n      </table>\n      {this.props.expandable &&\n        <TableExpander onExpand={this.props.onExpand} />\n      }\n    </div>\n    );\n  }\n}\n\nexport default TableWrapper;\n","import React from 'react';\n\nimport TableWrapper from './TableWrapper';\nimport { DEFAULT_ROWS, DEFAULT_ROWS_PLUS } from './constants';\n\n/* Subclasses must at minimum implement/define:\n   - rows_api_call()\n   - renderRow()\n   - headings\n(RMTable implements the second, and provisionally, the third)\n\nMay also implement/override:\n- sortKeys / defaultSortKey\n- apiSensitiveStateVars\n- shouldRefetchRows (see RMSearch)\n*/\nclass APITableMixin extends React.Component {\n  /* Mapping from identifier (used internally, and probably in API request)\n     to text to use as label.\n  */\n  sortKeys = [\n    // key is used as value for the sortKey state variable\n    //{ label: 'Most floozles', key: 'floozle', \n    //  title: 'Sort by floozles (not counting flozles)'}, ...\n  ];\n  // If any of these state variables changes, our API results (this.state.rows)\n  // are stale.\n  apiSensitiveStateVars = ['n', 'sortKey'];\n\n  /* Seems like there's a bit of a design issue with the variables above (and\n  the checkboxes/defaultSortKey getters). The getters and 'class fields'\n  syntax above relate to setting *instance variables*. \n  But semantically, they're more like class variables. But if I use the static\n  modifier when setting them, the subclass's version isn't visible in the base\n  class (APITableMixin) constructor, which is a big problem. Not sure what the \n  cleaner solution would be. 'higher order components'? This new Hooks thing?\n  */\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rows: [],\n      n : DEFAULT_ROWS,\n      sortKey : this.defaultSortKey,\n    };\n    for (let cb of this.checkboxes) {\n      this.state[cb.statevar] = cb.initialValue;\n      if (!cb.apiInsensitive) {\n        this.apiSensitiveStateVars.push(cb.statevar);\n      }\n    }\n    this.onExpand = this.onExpand.bind(this);\n    this.handleSortChange = this.handleSortChange.bind(this);\n  }\n\n  get checkboxes() {\n    /* Similar to sortKeys above, but trying to make it a bit more generic this\n       time.\n    return [\n      {\n        label: 'Foozle', \n        statevar: 'foo', // corresponding state var, i.e. this.state.foo\n        initialValue: true,\n        // default false. If explicitly set to true, then a change to this \n        // variable should *not* force an API refetch.\n        apiInsensitive: true,\n      },\n    ];\n    */\n    return [];\n  }\n\n  // Need to implement as a getter rather than a class field so that subclass\n  // implementation is accessible from base class constructor.\n  get defaultSortKey() {\n    return undefined;\n  }\n\n  onExpand() {\n    this.setState(state => {\n      return {n: state.n + DEFAULT_ROWS_PLUS};\n    });\n  }\n\n  handleSortChange(evt) {\n    this.setState({sortKey: evt.target.value});\n  }\n\n  componentDidMount() {\n    this.updateRowFetch();\n  }\n\n  shouldRefetchRows(prevProps, prevState) {\n    let changed = stateKey => (this.state[stateKey] !== prevState[stateKey]);\n    return this.apiSensitiveStateVars.some(stateKey => changed(stateKey));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.shouldRefetchRows(prevProps, prevState)) {\n      this.updateRowFetch();\n    }\n  }\n\n  updateRowFetch() {\n    this.rows_api_call().then(dat => {\n      this.setState({rows: dat});\n    });\n  }\n\n  renderRow() {\n    console.error(\"Abstract method not implemented.\");\n  }\n\n  renderControls() {\n    return (<form>\n        {this.renderSortControls()}\n        {this.renderCheckboxes()}\n        </form>);\n  }\n\n  renderCheckboxes() {\n    if (this.checkboxes.length === 0) {\n      return;\n    }\n    const boxes = this.checkboxes.map( cb => {\n      const key=cb.statevar, label=cb.label;\n      return (\n      <div key={key} className=\"form-check form-check-inline\">\n        <input className=\"form-check-input\" type=\"checkbox\"\n          value={key} id={'cb-'+key}\n          checked={this.state[key]}\n          onChange={(evt) => {\n            this.setState({[key]: evt.target.checked});\n          }}\n        />\n        <label className=\"form-check-label\" htmlFor={'cb-'+key}>\n          {label}\n        </label>\n      </div>\n    )});\n\n    return (\n      <>{boxes}</>\n    );\n  }\n\n  renderSortControls() {\n    if (this.sortKeys.length === 0) {\n      return;\n    }\n    const radios = this.sortKeys.map( sk => {\n      const key=sk.key, label=sk.label, title=sk.title;\n      return (\n      <div key={key} className=\"form-check form-check-inline\">\n        <input className=\"form-check-input\" type=\"radio\"\n          value={key} id={'sortradio-'+key}\n          checked={this.state.sortKey===key}\n          onChange={this.handleSortChange}\n        />\n        <label className=\"form-check-label\" htmlFor={'sortradio-'+key}\n          title={title}\n        >\n          {label}\n        </label>\n      </div>\n    )});\n\n    return (\n      <>{radios}</>\n    );\n  }\n\n  renderTable() {\n    const trs = this.state.rows.map( (row) => this.renderRow(row));\n    return (\n    <>\n      {this.renderControls()}\n      <TableWrapper headings={this.headings} onExpand={this.onExpand}\n        expandable={this.state.rows.length === this.state.n}\n      >\n        {trs}\n      </TableWrapper>\n    </>\n    );\n  }\n\n  render() {\n    return this.renderTable();\n  }\n}\n\nexport default APITableMixin;\n","import React from 'react';\n\nimport RMRow from './RMRow';\nimport { RM_COLS, DEBUG } from './constants';\nimport { is_malparsed } from './field_parsers';\nimport APITableMixin from './APITable';\n\nclass RMTable extends APITableMixin {\n  base_headings = [RM_COLS.RM, RM_COLS.date, RM_COLS.outcome,\n    RM_COLS.size,\n  ];\n  // subclasses can override this\n  extra_headings = [];\n\n  get headings() {\n    return this.base_headings.concat(this.extra_headings);\n  }\n\n  renderRow(dat) {\n    // Don't render badly misparsed RMs unless in debug mode.\n    // XXX: This could cause confusion in some cases. e.g. in the user lookup\n    // view, we could say this user participated in 5 RMs, but only show 4.\n    if (!DEBUG && is_malparsed(dat)) {\n      return;\n    }\n    const key = dat.rm_id + (dat.role ? dat.role : '');\n    return <RMRow key={key} headings={this.headings} dat={dat} />;\n  }\n}\n\nexport default RMTable;\n","import { BASEURL } from './constants';\n\nexport function build_url(base, querystring_params) {\n  // transform boolean values to 0/1\n  const qparams = Object.fromEntries(\n      Object.entries(querystring_params).map( ent => {\n        let k = ent[0], v = ent[1];\n        return [k, ((typeof(v)==='boolean') ? (v ? '1' : '0') : v)];\n      })\n    );\n  var usp = new URLSearchParams(qparams);\n  var qs = usp.toString();\n  return base + (qs && '?') + qs;\n}\n\nfunction api(endpoint, qargs) {\n  if (!endpoint.startsWith('/')) {\n    endpoint = '/' + endpoint;\n  }\n  var urlstr = window.location.origin + BASEURL + '/api' + endpoint;\n  const url = build_url(urlstr, qargs);\n  var prom = window.fetch(url, {headers:{\n      Accept: 'application/json'}})\n    .then(resp => resp.json());\n  return prom;\n}\n\nexport function fetch_rms_for_policy(pol, n) {\n  return api('policy/'+pol, {n:n});\n}\n\nexport function fetch_rms(sortKey, n) {\n  const qargs = {n: n, sort: sortKey};\n  return api('rms', qargs);\n}\n\nexport function search_rms(query, n, case_sensitive) {\n  const qargs = {n: n, query: query, case:case_sensitive};\n  return api('rms/search', qargs);\n}\n\nexport function top_users(sortKey, n) {\n  const qargs = {sort: sortKey, n: n};\n  return api('users/top', qargs);\n}\n\nexport function user_stats(user) {\n  return api('user/stats', {user: user});\n}\n\nexport function user_rms(user, n, role) {\n  return api('user/rms', {user: user, n: n, role: role});\n}\n\nexport function fetch_top_policies(n, collapse) {\n  return api('policies', {n: n, collapse:collapse});\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport function urlencode_user(user) {\n  return user.replace(/ /g, '_');\n}\nexport function urldecode_user(user) {\n  return user.replace(/_/g, ' ');\n}\n\nexport function render_user_wikilink(user) {\n  const user_link = 'https://en.wikipedia.org/wiki/User:' +\n    urlencode_user(user);\n  return <a href={user_link}>{user}</a>;\n}\n\nexport function user_link(user) {\n  return '/users/' + urlencode_user(user);\n}\n\nexport function render_user(user) {\n  return <Link to={user_link(user)}>{user}</Link>;\n}\n\nexport function render_pol_wikilink(pol) {\n  const url = 'https://en.wikipedia.org/wiki/' + pol;\n  return <a href={url}>{pol}</a>;\n}\nexport function render_pol_link(pol) {\n  return <Link to={'/policies/'+pol}>{pol}</Link>;\n}\n","import React from 'react';\n\nimport RMTable from './RMTable';\nimport * as api from './api_helpers';\nimport * as dp from './display_helpers';\nimport { RM_COLS } from './constants';\n\nclass Policy extends RMTable {\n  extra_headings = [RM_COLS.mentions];\n\n  get polname() {\n    return this.props.match.params.pol;\n  }\n\n  rows_api_call() {\n    return api.fetch_rms_for_policy(this.polname, this.state.n);\n  }\n\n  render() {\n    return (\n      <section>\n        <h1>\n        RM discussions invoking {dp.render_pol_wikilink(this.polname)}\n        </h1>\n        {this.renderTable()}\n      </section>\n      );\n  }\n\n}\n\nexport default Policy;\n\n","import React from 'react';\n\nimport * as dp from './display_helpers';\n\nclass PolRow extends React.Component {\n\n  get pol() {\n    const dat = this.props.dat;\n    return dat.pol || dat.canon;\n  }\n\n  get pol_link() {\n    return 'https://en.wikipedia.org/wiki/' + this.pol;\n  }\n\n  render_expansion() {\n    if (this.props.dat.expanded === null) {\n      return (\n          <a href={this.pol_link} className=\"redlink\">\n        {this.props.dat.pol}\n          </a>\n          );\n    } else {\n      const label = this.props.dat.expanded.replace(/^Wikipedia:/, '');\n      return <a href={this.pol_link}>{label}</a>;\n    }\n  }\n\n  render() {\n    return (\n      <tr>\n        <td className=\"Shortcut\">\n          {dp.render_pol_link(this.pol)}\n        </td>\n\n        <td>\n          {this.props.dat.n.toLocaleString()}\n        </td>\n\n        <td className=\"Policy\">\n          {this.render_expansion()}\n        </td>\n      </tr>\n      );\n  }\n\n}\nexport default PolRow;\n","import React from 'react';\n\nimport APITableMixin from './APITable';\nimport PolRow from './PolRow';\nimport * as api from './api_helpers';\n\nclass Policies extends APITableMixin {\n  headings = ['Shortcut', 'Mentions', 'Policy'];\n\n  get checkboxes() {\n    return [\n      {statevar: 'collapse',\n        label: 'Combine aliases',\n        initialValue: true,\n      },\n    ];\n  }\n\n  rows_api_call() {\n    return api.fetch_top_policies(this.state.n, this.state.collapse);\n  }\n\n  renderRow(row) {\n    return <PolRow key={row.pol || row.canon} dat={row} />;\n  }\n\n  render() {\n    return (\n      <section>\n        <h1>Most cited policy shortcuts</h1>\n        {this.renderTable()}\n      </section>\n    );\n  }\n}\n\nexport default Policies;\n","import React from 'react';\nimport { withRouter } from 'react-router';\n\nimport { build_url } from './api_helpers';\n\nclass RMSearchBar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.doSearch = this.doSearch.bind(this);\n  }\n\n  doSearch(evt) {\n    evt.preventDefault();\n    const query = document.getElementById(\"searchField\").value;\n    const cs = document.getElementById(\"caseSensitiveBox\").checked;\n    const qargs = {q: query};\n    if (cs === true) {\n      qargs.case = '1';\n    }\n    var loc = build_url('/rms/search', qargs);\n    this.props.history.push(loc);\n  }\n\n  render() {\n    return (\n        <form className=\"searchform\">\n          <input id=\"searchField\" type=\"search\"\n            defaultValue={this.props.query}\n          />\n          <button className=\"btn-search\"\n            onClick={this.doSearch}>Search</button>\n          <label>\n            <input id=\"caseSensitiveBox\" type=\"checkbox\"\n              checked={this.props.case_sensitive === true}\n              onChange={this.doSearch}\n            />\n          Case-sensitive\n          </label>\n        </form>\n      );\n  }\n}\n\nexport default withRouter(RMSearchBar);\n\n","import React from 'react';\n\nimport RMTable from './RMTable';\nimport RMSearchBar from './RMSearchBar';\nimport * as api from './api_helpers';\nimport { RM_COLS } from './constants';\n\nclass RMs extends RMTable {\n  sortKeys = [\n  {key: 'big', label:'Popular', title:'RMs with most comments'},\n  {key:'recent', label:'Recent'},\n  {key: 'random', label:'Random'},\n  ];\n  get defaultSortKey() {\n    return 'recent';\n  }\n\n  // Overriding RMTable implementation, which assumes a static list of \n  // extra_headings for the class.\n  get headings() {\n    let hd = this.base_headings;\n    if (this.state.sortKey === 'big') {\n      hd = hd.concat( [RM_COLS.comments] );\n    }\n    return hd;\n  }\n\n  rows_api_call() {\n    return api.fetch_rms(this.state.sortKey, this.state.n);\n  }\n  \n  render() {\n    return (\n      <>\n        <h1>RMs</h1>\n        <RMSearchBar />\n        {this.renderTable()}\n      </>\n    );\n  }\n}\n\nexport default RMs;\n\n","import React from 'react';\n\nimport RMSearchBar from './RMSearchBar';\nimport RMTable from './RMTable';\nimport * as api from './api_helpers';\n\n/* A view showing RM search results and a search bar.\n   /rms/search?q=\n\n   The way this encodes some state in the query string (and sort of has some\n   weird upward flow of state, via RMSearchBar navigating to a new location,\n   thereby changing the props of its parent RMSearch), feels a little janky.\n   Wonder what the approved way to do this is.\n*/\nclass RMSearch extends RMTable {\n\n  get qStringParams() {\n    return new URLSearchParams(this.props.location.search);\n  }\n\n  get query() {\n    return this.qStringParams.get('q');\n  }\n\n  get case_sensitive() {\n    return this.qStringParams.get('case') === '1';\n  }\n\n  // Overriding APITableMixin implementation\n  updateRowFetch() {\n    if (!this.query) {\n      this.setState({rows: []});\n      return;\n    }\n    api.search_rms(this.query, this.state.n, this.case_sensitive).then(dat => {\n      this.setState({rows: dat});\n    });\n  }\n\n  shouldRefetchRows(prevProps, prevState) {\n    return (prevProps.location.search !== this.props.location.search\n        || super.shouldRefetchRows(prevProps, prevState)\n    );\n  }\n\n  render() {\n    return (\n      <section>\n        <h1>RM Search</h1>\n        <RMSearchBar query={this.query} \n          case_sensitive={this.case_sensitive}\n        />\n        {this.renderTable()}\n      </section>\n      );\n  }\n}\n\nexport default RMSearch;\n\n\n","import React from 'react';\nimport { withRouter } from 'react-router';\n\nimport * as disp from './display_helpers';\n\nclass UserSearchBar extends React.Component {\n\n  render() {\n    return (\n      <form className=\"searchform\">\n        <input id=\"userlookup\" type=\"search\" />\n        <button className=\"btn-search\"\n          onClick={(evt) => {\n          evt.preventDefault();\n          const userquery = document.getElementById(\"userlookup\").value;\n          this.props.history.push(disp.user_link(userquery));\n        }}>\n          User lookup\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(UserSearchBar);\n","import React from 'react';\n\nimport APITableMixin from './APITable';\nimport UserSearchBar from './UserSearchBar';\nimport * as api from './api_helpers';\nimport * as disp from './display_helpers';\n\nclass Users extends APITableMixin {\n  headings = ['User', '!Votes', 'Nominations', 'Closes', 'Total'];\n  sortKeys = [\n    {key:'votes', label:'!Votes'},\n    {key:'noms', label:'Nominations'},\n    {key:'closes', label:'Closes'},\n    {key:'all', label:'All'},\n  ];\n\n  get defaultSortKey() {\n    return 'all';\n  }\n\n  rows_api_call() {\n    return api.top_users(this.state.sortKey, this.state.n);\n  }\n\n  renderRow(row) {\n    return (\n      <tr key={row.user}>\n        <td>{disp.render_user(row.user)}</td>\n        <td>{row.votes.toLocaleString()}</td>\n        <td>{row.noms.toLocaleString()}</td>\n        <td>{row.closes.toLocaleString()}</td>\n        <td>{row.all.toLocaleString()}</td>\n      </tr>\n      );\n  }\n\n  render() {\n    return (\n    <section>\n      <h1>Users</h1>\n      <UserSearchBar />\n      <h2>Most active users</h2>\n      {this.renderTable()}\n    </section>\n      );\n  }\n}\n\nexport default Users;\n\n\n","import React from 'react';\n\nimport * as dp from './display_helpers';\n\nimport './polcounts.css';\n\nclass PolCounts extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n    }\n    this.limit = 15;\n    this.collapse = this.collapse.bind(this);\n    this.expand = this.expand.bind(this);\n  }\n\n  collapse() {\n    this.setState({expanded: false});\n  }\n  expand() {\n    this.setState({expanded: true});\n  }\n\n  render() {\n    // Sort in descending order of count\n    var lis = Object.entries(this.props.counts)\n      .sort( (a, b) => b[1] - a[1])\n      .map(ent => {\n      let pol=ent[0], count=ent[1];\n      return (<li key={pol}>\n          {dp.render_pol_link(pol)}\n          ×\n          {count}\n          </li>);\n    });\n    var resizer = '';\n    const cls = \"btn btn-primary btn-sm polcount-resizer\";\n    if (this.state.expanded) {\n      resizer = <button className={cls} onClick={this.collapse} title=\"Less\">-</button>;\n    } else if (this.limit < Object.keys(this.props.counts).length) {\n      lis = lis.slice(0, this.limit);\n      resizer = <button className={cls} onClick={this.expand} title=\"More\">+</button>;\n    }\n    return (\n      <div>\n      <ul className=\"horiz\">\n        {lis}\n      {resizer}\n      </ul>\n      </div>\n      );\n  }\n}\n\nexport default PolCounts;\n","import React from 'react';\n\nimport * as dp from './display_helpers';\nimport * as api from './api_helpers';\nimport RMTable from './RMTable';\nimport { RM_COLS } from './constants';\nimport PolCounts from './PolCounts';\nimport UserSearchBar from './UserSearchBar';\n\nclass UserRMsTable extends RMTable {\n  // Well this is an abuse of notation at the very least...\n  sortKeys = [\n      {key: 'close', label:'Closed'},\n      {key: 'nom', label:'Nominated'},\n      {key: 'vote', label:'Participated'},\n      {key: 'all', label:'All'},\n  ];\n\n  get headings() {\n    let extras  = [];\n    if (this.state.sortKey === 'vote' | this.state.sortKey === 'all') {\n      extras = [RM_COLS.vote];\n    }\n    return this.base_headings.concat(extras);\n  }\n\n  get defaultSortKey() {\n    return 'all';\n  }\n\n  rows_api_call() {\n    return api.user_rms(this.props.username, this.state.n, \n        this.state.sortKey);\n  }\n}\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activity: {},\n      polcounts: {},\n      loaded: false,\n    };\n  }\n\n  get username() {\n    return dp.urldecode_user(this.props.match.params.username);\n  }\n\n  fetchStats() {\n    api.user_stats(this.username).then(dat => {\n      this.setState({activity: dat.activity, \n        polcounts:dat.polcounts,\n        loaded: true,\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.fetchStats();\n  }\n\n  // NB: If the route changes (as a result of activity in UserSearchBar), it doesn't\n  // necessarily mean a new User component gets mounted. More likely the same user\n  // component gets a change to its props.\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.match.params.username !== prevProps.match.params.username) {\n      this.setState({loaded: false});\n      this.fetchStats();\n    }\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return <h1>RM stats for user {this.username}</h1>;\n    } else if (this.state.loaded && this.state.activity.all === 0) {\n      return this.render_nouser();\n    } else {\n      return this.render_extant();\n    }\n  }\n\n  render_nouser() {\n    return (\n      <section>\n        <h1>User {this.username} not found</h1>\n        <UserSearchBar />\n      </section>\n    );\n  }\n\n  render_extant() {\n    const act = this.state.activity;\n    return (\n    <section>\n      <h1>RM stats for user {this.username}</h1>\n      <p>{this.username} has participated in {act.all} RMs:\n      </p>\n      <ul>\n        <li>{act.noms.toLocaleString()} nominations</li>\n        <li>{act.closes.toLocaleString()} closes</li>\n        <li>{act.votes.toLocaleString()} comments/!votes</li>\n      </ul>\n      <p>Their most cited policies are:</p>\n      <PolCounts counts={this.state.polcounts} />\n      <h2>Recent RMs</h2>\n      <UserRMsTable username={this.username} />\n    </section>\n      );\n    // TODO: Maybe separate tables for vote/nom/close. And links to load the \"as X\" sections as separate pages?\n  }\n}\n\nexport default User;\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport * as constants from './constants';\n\nexport default [\n{heading: \"What?\", content: (<p>\nA little web app for visualizing statistics related to <a href=\"https://en.wikipedia.org/wiki/Wikipedia:Requested_moves\">requested moves</a> (RMs) on Wikipedia - i.e. formal discussions about renaming articles.\n</p>),\n},\n{heading: \"Why?\", content: (<><p>\nFor fun! Though I also hope it might be a useful research tool to help inform ongoing move discussions. For example:</p>\n<ul>\n  <li>Suppose there's a move discussion between a title of the form \"X Y\" and \"X Y controversy\". It could be helpful to browse <Link to={\"/rms/search?q=controversy\"}>past RMs involving titles with the word \"controversy\"</Link> to see the arguments that were made there.\n  </li>\n  <li>In an RM that argues that \"List of Presidents of Fooland\" should be changed to \"List of presidents of Fooland\" per <a href=\"https://en.wikipedia.org/wiki/MOS:JOBTITLES\">MOS:JOBTITLES</a>, it could be useful to see how <Link to={\"/policies/MOS:JOBTITLES\"}>that policy has been interpreted in previous RMs</Link>.\n  </li>\n</ul>\n<p>This tool drew some inspiration from <a href=\"https://tools.wmflabs.org/afdstats/\">AfD Stats</a>, though it doesn't have the same focus on measuring the 'accuracy' of individual users, in terms of matching consensus. (This would be harder to do for move discussions, because, compared to deletion discussions, there's a greater diversity of possible outcomes, and possible !votes.)\n</p>\n</>\n),\n},\n{heading: \"Who?\", content: (<p>This tool was written by Colin Morris, aka <a href=\"https://en.wikipedia.org/wiki/User:Colin_M\">User:Colin M</a> on Wikipedia. If you have feedback, feel free to leave me a note on <a href=\"https://en.wikipedia.org/wiki/User_talk:Colin_M\">my talk page</a>.\n    </p>),\n},\n{heading: \"How?\", content:(<><p>\nThe RM data was scraped via the MediaWiki API, and parsed using some kludgy heuristics implemented in Python. The scraping/parsing code is <a href={constants.GITHUB_SCRAPER_URL}>on GitHub here</a>. You may find that some RMs are missing, or have incorrect values for some fields. This is hard to avoid, given the huge variety of formatting and template usage in RMs through the ages. Even finding where one user's comment ends and a new one begins is extremely non-trivial!</p>\n<p>So far only one scrape has been performed (around 2019-07-21), and the site will not be updated automatically with new RMs. If there's enough interest, I might try setting up some automation to rescrape periodically.</p>\n<p>This site is coded with React, with an API written in Flask. The code is <a href={constants.GITHUB_SITE_URL}>on GitHub here</a>. Pull requests to either repository are extremely welcome!</p>\n</>\n), },\n{heading: \"Whence?\", content:(<p>Did you really just say <i>whence</i>?</p>),\n},\n];\n","import React from 'react';\n\nimport q_and_a from './about_txt.js'\n\nclass Home extends React.Component {\n\n  renderSection(dat) {\n    return (\n      <section key={dat.heading}>\n        <h2>{dat.heading}</h2>\n        {dat.content}\n      </section>\n      );\n  }\n  render() {\n    const sections = q_and_a.map(this.renderSection);\n    return <>{sections}</>;\n  }\n}\n\nexport default Home;\n\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nimport './main.css';\nimport './pseudo_vector.css';\nimport octocat from './octocat.svg';\n\nimport Policy from './Policy';\nimport Policies from './Policies';\nimport RMs from './RMs';\nimport RMSearch from './RMSearch';\nimport Users from './Users';\nimport User from './User';\nimport About from './About';\nimport * as constants from './constants';\n\nclass NavHeader extends React.Component {\n\n  render() {\n    return (\n      <nav className=\"navbar\">\n        <ul className=\"nav\">\n          <li className=\"nav-item\"><Link to=\"/rms\" className=\"nav-link\">RMs</Link></li>\n          <li className=\"nav-item\"><Link to=\"/users\" className=\"nav-link\">Users</Link></li>\n          <li className=\"nav-item\">\n            <Link to=\"/policies\" className=\"nav-link\">Policies</Link>\n          </li>\n\n          <li className=\"nav-item\">\n            <Link to=\"/about\" className=\"nav-link\">About</Link>\n          </li>\n        </ul>\n        <a title=\"rm_stats project on GitHub\" className=\"octo\"\n          href={constants.GITHUB_SITE_URL}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <img alt=\"octocat\" src={octocat} />\n          <span>/rm_stats</span>\n        </a>\n      </nav>\n    );\n  }\n}\n\nfunction App() {\n  // Would like to have a 'Home' component with some kind of overall dashboard\n  // or landing page. But I don't want to put in the work.\n  return (\n    <Router basename={constants.BASEURL}>\n    <NavHeader />\n      <div className=\"main-content\">\n        <Route exact path=\"/\" component={RMs} />\n        <Route path=\"/policies/:pol\" component={Policy} />\n        <Route exact path=\"/policies\" component={Policies} />\n        <Route exact path=\"/rms\" component={RMs} />\n        <Route path=\"/rms/search\" component={RMSearch} />\n        <Route exact path=\"/users\" component={Users} />\n        <Route path=\"/users/:username\" component={User} />\n        <Route path=\"/about\" component={About} />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}